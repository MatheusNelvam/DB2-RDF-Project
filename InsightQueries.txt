####Find shipments with products where the shipping cost is more than 75% of the total value

SELECT ?shipment ?product ?shippingCost ?totalValue
WHERE {
  ?shipment rdf:type supplyChain:shipment.
  ?shipment supplyChain:hasProduct ?product.
  ?product supplyChain:Line_Item_Value ?totalValue.
  ?shipment supplyChain:Freight_Cost_USD ?shippingCost.
  FILTER (xsd:decimal(?shippingCost) > 0.75 * xsd:decimal(?totalValue))
}


####Identify countries that have received shipments with products from more than three different manufacturers:


SELECT ?country (COUNT(DISTINCT ?manufacturer) AS ?manufacturerCount)
WHERE {
  ?shipment rdf:type supplyChain:Shipment.
  ?shipment supplyChain:ShippedTo ?country.
  ?shipment supplyChain:hasProduct ?product.
  ?product supplyChain:ManufacturingSite ?manufacturer.
}
GROUP BY ?country
HAVING (COUNT(DISTINCT ?manufacturer) > 3)
